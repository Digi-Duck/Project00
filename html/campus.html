<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/campus.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <nav class="nav">
            <!-- 導覽列按鈕 -->
            <div class="itemBox">
                <!-- home鍵 -->
                <a href="../html/index.html" class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none">
                        <path
                            d="M25.666 3.66667H18.3327V7.33334H14.666V11H10.9993V14.6667H7.33268V18.3333H3.66602V22H7.33268V40.3333H20.166V29.3333H23.8327V40.3333H36.666V22H40.3327V18.3333H36.666V14.6667H32.9993V11H29.3327V7.33334H25.666V3.66667ZM25.666 7.33334V11H29.3327V14.6667H32.9993V18.3333H36.666V22H32.9993V36.6667H27.4993V25.6667H16.4993V36.6667H10.9993V22H7.33268V18.3333H10.9993V14.6667H14.666V11H18.3327V7.33334H25.666Z"
                            fill="#C0AE67" />
                    </svg>
                </a>
                <!-- about us 按鈕 -->
                <a href="" class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none">
                        <path
                            d="M27.5004 9.89999C27.5004 11.3587 26.9209 12.7576 25.8895 13.7891C24.858 14.8205 23.4591 15.4 22.0004 15.4C20.5417 15.4 19.1428 14.8205 18.1113 13.7891C17.0799 12.7576 16.5004 11.3587 16.5004 9.89999C16.5004 8.4413 17.0799 7.04236 18.1113 6.01091C19.1428 4.97946 20.5417 4.39999 22.0004 4.39999C23.4591 4.39999 24.858 4.97946 25.8895 6.01091C26.9209 7.04236 27.5004 8.4413 27.5004 9.89999ZM38.5004 11C38.5004 12.1669 38.0368 13.2861 37.2117 14.1113C36.3865 14.9364 35.2673 15.4 34.1004 15.4C32.9334 15.4 31.8143 14.9364 30.9891 14.1113C30.164 13.2861 29.7004 12.1669 29.7004 11C29.7004 9.83304 30.164 8.71388 30.9891 7.88872C31.8143 7.06356 32.9334 6.59999 34.1004 6.59999C35.2673 6.59999 36.3865 7.06356 37.2117 7.88872C38.0368 8.71388 38.5004 9.83304 38.5004 11ZM9.90039 15.4C11.0673 15.4 12.1865 14.9364 13.0117 14.1113C13.8368 13.2861 14.3004 12.1669 14.3004 11C14.3004 9.83304 13.8368 8.71388 13.0117 7.88872C12.1865 7.06356 11.0673 6.59999 9.90039 6.59999C8.73344 6.59999 7.61428 7.06356 6.78912 7.88872C5.96396 8.71388 5.50039 9.83304 5.50039 11C5.50039 12.1669 5.96396 13.2861 6.78912 14.1113C7.61428 14.9364 8.73344 15.4 9.90039 15.4ZM13.2004 20.35C13.2004 18.832 14.4324 17.6 15.9504 17.6H28.0504C29.5684 17.6 30.8004 18.832 30.8004 20.35V30.8C30.8004 33.1339 29.8733 35.3722 28.2229 37.0225C26.5726 38.6729 24.3343 39.6 22.0004 39.6C19.6665 39.6 17.4282 38.6729 15.7779 37.0225C14.1275 35.3722 13.2004 33.1339 13.2004 30.8V20.35ZM11.0004 20.35C11.0004 19.3314 11.3084 18.3876 11.8342 17.6H7.15039C5.63239 17.6 4.40039 18.832 4.40039 20.35V28.6C4.40029 29.5419 4.60178 30.4728 4.99131 31.3304C5.38085 32.1879 5.94942 32.9521 6.65881 33.5717C7.3682 34.1913 8.20199 34.6518 9.10414 34.9224C10.0063 35.193 10.9559 35.2674 11.8892 35.1406C11.3006 33.7693 10.9981 32.2923 11.0004 30.8V20.35ZM33.0004 30.8C33.0004 32.34 32.6836 33.8096 32.1116 35.1406C33.0449 35.2674 33.9945 35.193 34.8966 34.9224C35.7988 34.6518 36.6326 34.1913 37.342 33.5717C38.0514 32.9521 38.6199 32.1879 39.0095 31.3304C39.399 30.4728 39.6005 29.5419 39.6004 28.6V20.35C39.6004 18.832 38.3684 17.6 36.8504 17.6H32.1666C32.6946 18.3876 33.0004 19.3314 33.0004 20.35V30.8Z"
                            fill="#C0AE67" />
                    </svg>
                </a>
            </div>
        </nav>

        <main>
            <div id="bg"></div>
            <div class="card"></div>
            <div class="btn-list">
                <div class="switch">
                    <a href="#" class="switch-btn btn-1 active">學院科系</a>
                    <a href="#" class="switch-btn btn-2">公共資源</a>
                </div>
                <ul class="list-option"></ul>
            </div>
        </main>
    </div>

    <script async src="https://unpkg.com/es-module-shims@1.8.0/dist/es-module-shims.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@latest/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@latest/examples/jsm/"
            }
        }
        </script>
    <script type="module">
        import { CSS2DRenderer, CSS2DObject } from 'three/addons/renderers/CSS2DRenderer.js';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { GUI } from "three/addons/libs/lil-gui.module.min.js";
        import * as THREE from 'three';
        // 指定ID為idiot的東西定義為idiot
        const idiot = document.getElementById('bg')
        const scene = new THREE.Scene();
        // scene.background = new THREE.Color('skyblue');
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(-15, 2, -15);
        const renderer = new THREE.WebGLRenderer({
            alpha: true, // canvas是否包含alpha (透明度) 默认为 false
            antialias: true,
            precision: 'highp',
        });
        const light = new THREE.AmbientLight(0x404040); // soft white light
        scene.add(light);
        const spotLight = new THREE.SpotLight(0x404040, 10000);
        spotLight.position.set(0, 10, 0);
        scene.add(spotLight);
        // 如果丟掉某個東西上大小要記得改
        renderer.setSize(window.innerWidth, window.innerHeight);
        // 把東西丟到idiot這個ID上
        idiot.appendChild(renderer.domElement);

        // GLTF載入器
        const loader = new GLTFLoader()

        loader.load('../model/1.glb', function (object) {
            // ALL是整個模組 root是模組裡各個"模型"的陣列
            const all = object.scene
            const root = object.scenes[0].children
            scene.add(all)
            console.log(root);
        })




        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        // 下面是RAYCASTER
        const raycaster = new THREE.Raycaster();
        const pointer = new THREE.Vector2();

        // onclick這個function是滑鼠點到指定事件會觸發指定事件
        function onclick(event) {

            // 将鼠标位置归一化为设备坐标。x 和 y 方向的取值范围是 (-1 to +1)
            // 1920和955這個數值是three.js視窗大小(應該)
            // 如果把three.js丟到東西上 OFFEST參數可能不大依樣
            pointer.x = (event.offsetX / 1920) * 2 - 1;
            pointer.y = - (event.offsetY / 955) * 2 + 1;
            raycaster.setFromCamera(pointer, camera);
            // 获取raycaster直线和所有模型相交的数组集合
            var intersects = raycaster.intersectObjects(scene.children);

            // 點擊到的物件陣列裡是否有CUBE1110
            if (intersects.some(function (obj) {
                return obj.object.name == "cube110"
            })) {
                // 會到指定位置
                location.href = "/html/academy.html";
            }
            console.log(event);
        };
        window.addEventListener('click', onclick);

        // 新增控制器
        const controls = new OrbitControls(camera, renderer.domElement);

        controls.maxDistance = 10;
        controls.minDistance = 5;

        const gui = new GUI()

        const cameraFolder = gui.addFolder('Camera')
        cameraFolder.add(camera.position, 'z', 0, 10)
        cameraFolder.open()

        animate();
    </script>


    <script>
        const switchBtn = document.querySelectorAll('.switch-btn');
        const btn1 = document.querySelector('.btn-1');
        const btn2 = document.querySelector('.btn-2');
        const list = document.querySelector('.list-option');
        const card = document.querySelector('.card');

        const academy = [
            {
                name: '文學院',
                img: '../img/btn-images.jpg',
                info: ['人文大樓'],
            },
            {
                name: '農業暨自然資源學院',
                img: '../img/btn-images.jpg',
                info: ['作物科學大樓', '作物科學大樓2樓', '森林館', '應經一館', '農環大樓',
                    '動科系館', '水土保持館', '食品暨生物科技大樓', '生機大樓', '生管所', '食安大樓',
                    '綜合教學大樓', '國農大樓', '舊理工大樓', '國農中心', '應用經濟學系一館']
            },
            {
                name: '理學院',
                img: '../img/btn-images.jpg',
                info: ['化學館', '資訊科學大樓', '理學大樓', '資訊科學大樓']
            },
            {
                name: '工學院',
                img: '../img/btn-images.jpg',
                info: ['土木環工大樓', '混擬土科技研究中心', '應用科技大樓', '機械系館'
                    , '化材大樓', '應用科技大樓']
            },
            {
                name: '生命科學院',
                img: '../img/btn-images.jpg',
                info: ['生命科學大樓', '防疫檢疫大樓']
            },
            {
                name: '獸醫學院',
                img: '../img/btn-images.jpg',
                info: ['獸醫系館', '動物疾病診斷中心']
            },
            {
                name: '管理學院',
                img: '../img/btn-images.jpg',
                info: ['社管大樓', '綜合教學大樓']
            },
            {
                name: '法政學院',
                img: '../img/btn-images.jpg',
                info: ['社管大樓']
            },
            {
                name: '電機資訊學院',
                img: '../img/btn-images.jpg',
                info: ['電機大樓', '理學大樓']
            },
            {
                name: '醫學院',
                img: '../img/btn-images.jpg',
                info: ['國農中心', '生命科學大樓', '防疫檢疫大樓']
            },
            {
                name: '創新產業暨國際學院',
                img: '../img/btn-images.jpg',
                info: ['綜合教學大樓', '國農中心']
            },

        ];

        const resource = [
            {
                name: '行政',
                img: '../img/btn-images.jpg',
                info: []
            },
            {
                name: '圖書',
                img: '../img/btn-images.jpg',
                info: []
            },
            {
                name: '體育',
                img: '../img/btn-images.jpg',
                info: []
            },
            {
                name: '餐廳',
                img: '../img/btn-images.jpg',
                info: []
            },
        ];

        console.log(switchBtn);

        academy.forEach(e => {
            list.innerHTML += `
                <a href="#"><li class="option">${e.name}</li></a>
            `
        });

        switchBtn.forEach((e, index) => {
            e.addEventListener('click', (btn) => {
                switchBtn.forEach(r => {
                    r.classList.remove('active');
                    list.innerHTML = '';
                });
                if (index === 0) {
                    e.classList.add('active');
                    academy.forEach(e => {
                        list.innerHTML += `
                            <a href="#"><li class="option">${e.name}</li></a>
                        `


                    });
                } else if (index === 1) {
                    e.classList.add('active');
                    resource.forEach(e => {
                        list.innerHTML += `
                            <a href="#"><li class="option">${e.name}</li></a>
                        `
                    });
                }
            });
        });

        const options = document.querySelectorAll('.option');

        options.forEach((option, index) => {
            option.addEventListener('click', () => {
                card.innerHTML = '';

                card.innerHTML += `
                <div class="card-nav">
                    <a href="#" class="close">
                        <svg xmlns="http://www.w3.org/2000/svg" width="53" height="53" viewBox="0 0 53 53" fill="none">
                            <path
                                d="M17.6667 41.9583C15.9096 41.9583 14.2245 41.2603 12.9821 40.0179C11.7397 38.7755 11.0417 37.0904 11.0417 35.3333V17.6667C11.0417 15.9096 11.7397 14.2245 12.9821 12.9821C14.2245 11.7397 15.9096 11.0417 17.6667 11.0417C18.2524 11.0417 18.8141 10.809 19.2282 10.3949C19.6423 9.98072 19.875 9.41902 19.875 8.83333C19.875 8.24765 19.6423 7.68595 19.2282 7.27181C18.8141 6.85766 18.2524 6.625 17.6667 6.625C14.7382 6.625 11.9297 7.78832 9.85903 9.85903C7.78832 11.9297 6.625 14.7382 6.625 17.6667V35.3333C6.625 38.2618 7.78832 41.0703 9.85903 43.141C11.9297 45.2117 14.7382 46.375 17.6667 46.375C18.2524 46.375 18.8141 46.1423 19.2282 45.7282C19.6423 45.3141 19.875 44.7523 19.875 44.1667C19.875 43.581 19.6423 43.0193 19.2282 42.6051C18.8141 42.191 18.2524 41.9583 17.6667 41.9583ZM34.6929 34.6929C34.8999 34.4876 35.0642 34.2434 35.1763 33.9743C35.2884 33.7052 35.3461 33.4165 35.3461 33.125C35.3461 32.8335 35.2884 32.5448 35.1763 32.2757C35.0642 32.0066 34.8999 31.7624 34.6929 31.5571L29.6137 26.5L34.6929 21.4429C35.1088 21.0271 35.3424 20.4631 35.3424 19.875C35.3424 19.2869 35.1088 18.7229 34.6929 18.3071C34.2771 17.8912 33.7131 17.6576 33.125 17.6576C32.5369 17.6576 31.9729 17.8912 31.5571 18.3071L26.5 23.3862L21.4429 18.3071C21.0271 17.8912 20.4631 17.6576 19.875 17.6576C19.2869 17.6576 18.7229 17.8912 18.3071 18.3071C17.8912 18.7229 17.6576 19.2869 17.6576 19.875C17.6576 20.4631 17.8912 21.0271 18.3071 21.4429L23.3862 26.5L18.3071 31.5571C18.1001 31.7624 17.9358 32.0066 17.8237 32.2757C17.7116 32.5448 17.6539 32.8335 17.6539 33.125C17.6539 33.4165 17.7116 33.7052 17.8237 33.9743C17.9358 34.2434 18.1001 34.4876 18.3071 34.6929C18.5124 34.8999 18.7566 35.0642 19.0257 35.1763C19.2948 35.2884 19.5835 35.3461 19.875 35.3461C20.1665 35.3461 20.4552 35.2884 20.7243 35.1763C20.9934 35.0642 21.2376 34.8999 21.4429 34.6929L26.5 29.6137L31.5571 34.6929C31.7624 34.8999 32.0066 35.0642 32.2757 35.1763C32.5448 35.2884 32.8335 35.3461 33.125 35.3461C33.4165 35.3461 33.7052 35.2884 33.9743 35.1763C34.2434 35.0642 34.4876 34.8999 34.6929 34.6929ZM35.3333 6.625C34.7476 6.625 34.1859 6.85766 33.7718 7.27181C33.3577 7.68595 33.125 8.24765 33.125 8.83333C33.125 9.41902 33.3577 9.98072 33.7718 10.3949C34.1859 10.809 34.7476 11.0417 35.3333 11.0417C37.0904 11.0417 38.7755 11.7397 40.0179 12.9821C41.2603 14.2245 41.9583 15.9096 41.9583 17.6667V35.3333C41.9583 37.0904 41.2603 38.7755 40.0179 40.0179C38.7755 41.2603 37.0904 41.9583 35.3333 41.9583C34.7476 41.9583 34.1859 42.191 33.7718 42.6051C33.3577 43.0193 33.125 43.581 33.125 44.1667C33.125 44.7523 33.3577 45.3141 33.7718 45.7282C34.1859 46.1423 34.7476 46.375 35.3333 46.375C38.2618 46.375 41.0703 45.2117 43.141 43.141C45.2117 41.0703 46.375 38.2618 46.375 35.3333V17.6667C46.375 14.7382 45.2117 11.9297 43.141 9.85903C41.0703 7.78832 38.2618 6.625 35.3333 6.625Z"
                                fill="#C0AE67" />
                        </svg>
                    </a>
                </div>
                <div class="card-content">
                    <div class="card-title"></div>
                    <div class="card-txt"></div>
                    <div class="card-more">
                        <a href="#">
                            <span>更多資訊</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="41" height="51" viewBox="0 0 41 51"
                                fill="none">
                                <path
                                    d="M7.45459 18.5455H33.5455V23.1818H31.6819V25.5H29.8182V27.8182H27.9546V30.1364H26.091V32.4546H24.2273V34.7727H22.3637V37.0909H18.6364V34.7727H16.7728V32.4546H14.9091V30.1364H13.0455V27.8182H11.1819V25.5H9.31823V23.1818H7.45459V18.5455ZM14.9091 23.1818V25.5H16.7728V27.8182H18.6364V30.1364H22.3637V27.8182H24.2273V25.5H26.091V23.1818H14.9091Z"
                                    fill="#C0AE67" />
                            </svg>
                        </a>
                    </div>
                </div>
                `

                console.log(option);

                const title = document.querySelector('.card-title');
                const txt = document.querySelector('.card-txt');

                const literatureInfo = academy.find(item => item.name === '文學院');
                const naturalResourcesInfo = academy.find(item => item.name === '農業暨自然資源學院');
                const facultyofScienceInfo = academy.find(item => item.name === '理學院');
                const EngineeringInfo = academy.find(item => item.name === '工學院');
                const lifeSciencesInfo = academy.find(item => item.name === '生命科學院');
                const veterinaryMedicineInfo = academy.find(item => item.name === '獸醫學院');
                const managementInfo = academy.find(item => item.name === '管理學院');
                const lawAndPoliticsInfo = academy.find(item => item.name === '法政學院');
                const electricalEngineeringInfo = academy.find(item => item.name === '電機資訊學院');
                const medicalInfo = academy.find(item => item.name === '醫學院');
                const industryInfo = academy.find(item => item.name === '創新產業暨國際學院');
                const administrativeInfo = resource.find(item => item.name === '行政');
                const booksInfo = resource.find(item => item.name === '圖書');
                const physicalEducationInfo = resource.find(item => item.name === '體育');
                const restaurantInfo = resource.find(item => item.name === '餐廳');


                if (option.textContent === literatureInfo.name) {
                    title.innerHTML = `${literatureInfo.name}`;
                    txt.innerHTML = `${literatureInfo.info.join('|')}`;
                } else if (option.textContent === naturalResourcesInfo.name) {
                    title.innerHTML = `${naturalResourcesInfo.name}`;
                    txt.innerHTML = `${naturalResourcesInfo.info.join('|')}`;
                }else if (option.textContent === facultyofScienceInfo.name) {
                    title.innerHTML = `${facultyofScienceInfo.name}`;
                    txt.innerHTML = `${facultyofScienceInfo.info.join('|')}`;
                }else if (option.textContent === EngineeringInfo.name) {
                    title.innerHTML = `${EngineeringInfo.name}`;
                    txt.innerHTML = `${EngineeringInfo.info.join('|')}`;
                }else if (option.textContent === lifeSciencesInfo.name) {
                    title.innerHTML = `${lifeSciencesInfo.name}`;
                    txt.innerHTML = `${lifeSciencesInfo.info.join('|')}`;
                }else if (option.textContent === veterinaryMedicineInfo.name) {
                    title.innerHTML = `${veterinaryMedicineInfo.name}`;
                    txt.innerHTML = `${veterinaryMedicineInfo.info.join('|')}`;
                }else if (option.textContent === managementInfo.name) {
                    title.innerHTML = `${managementInfo.name}`;
                    txt.innerHTML = `${managementInfo.info.join('|')}`;
                }else if (option.textContent === lawAndPoliticsInfo.name) {
                    title.innerHTML = `${lawAndPoliticsInfo.name}`;
                    txt.innerHTML = `${lawAndPoliticsInfo.info.join('|')}`;
                }else if (option.textContent === electricalEngineeringInfo.name) {
                    title.innerHTML = `${electricalEngineeringInfo.name}`;
                    txt.innerHTML = `${electricalEngineeringInfo.info.join('|')}`;
                }else if (option.textContent === medicalInfo.name) {
                    title.innerHTML = `${medicalInfo.name}`;
                    txt.innerHTML = `${medicalInfo.info.join('|')}`;
                }else if (option.textContent === industryInfo.name) {
                    title.innerHTML = `${industryInfo.name}`;
                    txt.innerHTML = `${industryInfo.info.join('|')}`;
                }else if (option.textContent === administrativeInfo.name) {
                    title.innerHTML = `${administrativeInfo.name}`;
                    txt.innerHTML = `${administrativeInfo.info.join('|')}`;
                }else if (option.textContent === booksInfo.name) {
                    title.innerHTML = `${booksInfo.name}`;
                    txt.innerHTML = `${booksInfo.info.join('|')}`;
                }else if (option.textContent === physicalEducationInfo.name) {
                    title.innerHTML = `${physicalEducationInfo.name}`;
                    txt.innerHTML = `${physicalEducationInfo.info.join('|')}`;
                }else if (option.textContent === restaurantInfo.name) {
                    title.innerHTML = `${restaurantInfo.name}`;
                    txt.innerHTML = `${restaurantInfo.info.join('|')}`;
                }

                const closeBtn = document.querySelector('.close');
                closeBtn.addEventListener('click', (close) => {
                    card.innerHTML = '';
                });
            });
        });

    </script>

</body>

</html>